# 3.4.1 プライベート（またはディスコネクト）ネットワーク

多くの場所では、自分たちを守るために、ネットワークを他の地域から隠すファイアウォールがあります。そして多くの場合、ファイアウォールは、ネットワークアドレス変換（NAT）と呼ばれるプロセスを使って、"内部" IP アドレスを"外部"（世界中の誰もが知っている）IP アドレスに変換しています。

もう緊張してきましたか？"こんな変なことして どこへ行くんだろう？"

まあ、ノンアルコール飲料でも買ってリラックスしてください。初心者の場合、NAT は透過的に行われるので、心配する必要もありませんから。しかし、あなたが見ているネットワーク番号に混乱し始めた場合に備えて、ファイアウォールの背後にあるネットワークについて話したいと思います。

例えば、私の自宅にはファイアウォールがあります。DSL 会社から割り当てられた2つの固定 IPv4 アドレスを持っていますが、ネットワーク上に7台のコンピューターがあります。どうしてこんなことが可能なのでしょうか？2台のコンピュータが同じ IP アドレスを共有することはできませんし、そうでなければデータはどちらに行けばいいのかわからなくなってしまいます。

答えは、"同じIPアドレスを共有していない"です。2400万個の IP アドレスが割り当てられたプライベートネットワーク上にあるのです。それらはすべて私のためだけのものです。まあ、他の人たちから見れば、すべて私のためのものなのですが。ここで、何が起こっているのかを説明します。

リモートコンピューターにログインすると、ISP から提供されたパブリック IP アドレスである `192.0.2.33` からログインしていると表示されるのです。しかし、ローカルコンピューターにその IP アドレスを尋ねると、`10.0.0.5` と答えるのです。誰が IP アドレスを変換しているのでしょうか？そうです、ファイアウォールです。ファイアウォールが NAT しているのです。

`10.x.x.x` は、完全に切断されたネットワークか、ファイアウォールの内側にあるネットワークでのみ使用される、数少ない予約ネットワークの1つです。どのプライベート・ネットワーク番号が使用できるかの詳細は、[RFC 1918](https://datatracker.ietf.org/doc/html/rfc1918) に概説されていますが、一般的によく目にするのは、`10.x.x.x` と `192.168.x.x` で、`x` は通常 0 ～ 255 です。一般的ではないのは、`172.y.x.x` で、`y` は16から31の間です。

NAT するファイアウォールの内側のネットワークは、これらの予約されたネットワークのいずれかにある必要はありませんが、一般的にはそうなっています。

(楽しい事実！私の外部 IP アドレスは、本当は `192.0.2.33` ではないのです。`192.0.2.x` ネットワークは、このガイドのように、ドキュメントで使用するための架空の"本当の" IP アドレスのために予約されているのです！わーい、すごい！)

IPv6 にも、ある意味プライベートネットワークがあります。[RFC 4193](https://datatracker.ietf.org/doc/html/rfc4193) にあるように、`fdXX:`（将来的には `fcXX:`）で始まります。しかし、NAT と IPv6 は一般的に混ざりません(このドキュメントの範囲外である IPv6 から IPv4 へのゲートウェイを行う場合を除きます)。理論的には、自由に使えるアドレスが非常に多くなるため、NAT を使用する必要はなくなるはずです。しかし、外部にルーティングしないネットワーク上で自分のためにアドレスを割り当てたい場合は、このようにします。
